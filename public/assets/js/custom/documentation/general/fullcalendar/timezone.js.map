{"version":3,"sources":["webpack://metronic/../demo5/src/js/custom/documentation/general/fullcalendar/timezone.js"],"names":["KTGeneralFullCalendarTimezoneDemos","init","timeZoneSelectorEl","document","getElementById","calendarEl","todayDate","moment","startOf","YM","format","YESTERDAY","clone","subtract","TODAY","TOMORROW","add","eventsArray","title","start","description","className","end","id","url","calendar","FullCalendar","Calendar","timeZone","headerToolbar","left","center","right","initialDate","navLinks","editable","selectable","dayMaxEvents","eventTimeFormat","hour","minute","timeZoneName","events","render","$","on","setOption","getEvents","forEach","event","remove","this","value","replace","getFormat","addEvent","d","includes","exampleTimezone","KTUtil","onDOMContentLoaded"],"mappings":"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","file":"js/custom/documentation/general/fullcalendar/timezone.js","sourcesContent":["\"use strict\";\r\n\r\n// Class definition\r\nvar KTGeneralFullCalendarTimezoneDemos = function () {\r\n    // Private functions\r\n\r\n    var exampleTimezone = function () {\r\n        // Define variables\r\n        var initialTimeZone = 'local';\r\n        var timeZoneSelectorEl = document.getElementById('kt_docs_fullcalendar_timezone_selector');\r\n        var calendarEl = document.getElementById('kt_docs_fullcalendar_timezone');\r\n        var todayDate = moment().startOf('day');\r\n        var YM = todayDate.format('YYYY-MM');\r\n        var YESTERDAY = todayDate.clone().subtract(1, 'day').format('YYYY-MM-DD');\r\n        var TODAY = todayDate.format('YYYY-MM-DD');\r\n        var TOMORROW = todayDate.clone().add(1, 'day').format('YYYY-MM-DD');\r\n        var eventsArray = [\r\n            {\r\n                title: 'All Day Event',\r\n                start: YM + '-01',\r\n                description: 'Toto lorem ipsum dolor sit incid idunt ut',\r\n                className: \"fc-event-danger fc-event-solid-warning\"\r\n            },\r\n            {\r\n                title: 'Reporting',\r\n                start: YM + '-14T13:30:00',\r\n                description: 'Lorem ipsum dolor incid idunt ut labore',\r\n                end: YM + '-14',\r\n                className: \"fc-event-success\"\r\n            },\r\n            {\r\n                title: 'Company Trip',\r\n                start: YM + '-02',\r\n                description: 'Lorem ipsum dolor sit tempor incid',\r\n                end: YM + '-03',\r\n                className: \"fc-event-primary\"\r\n            },\r\n            {\r\n                title: 'ICT Expo 2017 - Product Release',\r\n                start: YM + '-03',\r\n                description: 'Lorem ipsum dolor sit tempor inci',\r\n                end: YM + '-05',\r\n                className: \"fc-event-light fc-event-solid-primary\"\r\n            },\r\n            {\r\n                title: 'Dinner',\r\n                start: YM + '-12',\r\n                description: 'Lorem ipsum dolor sit amet, conse ctetur',\r\n                end: YM + '-10'\r\n            },\r\n            {\r\n                id: 999,\r\n                title: 'Repeating Event',\r\n                start: YM + '-09T16:00:00',\r\n                description: 'Lorem ipsum dolor sit ncididunt ut labore',\r\n                className: \"fc-event-danger\"\r\n            },\r\n            {\r\n                id: 1000,\r\n                title: 'Repeating Event',\r\n                description: 'Lorem ipsum dolor sit amet, labore',\r\n                start: YM + '-16T16:00:00'\r\n            },\r\n            {\r\n                title: 'Conference',\r\n                start: YESTERDAY,\r\n                end: TOMORROW,\r\n                description: 'Lorem ipsum dolor eius mod tempor labore',\r\n                className: \"fc-event-primary\"\r\n            },\r\n            {\r\n                title: 'Meeting',\r\n                start: TODAY + 'T10:30:00',\r\n                end: TODAY + 'T12:30:00',\r\n                description: 'Lorem ipsum dolor eiu idunt ut labore'\r\n            },\r\n            {\r\n                title: 'Lunch',\r\n                start: TODAY + 'T12:00:00',\r\n                className: \"fc-event-info\",\r\n                description: 'Lorem ipsum dolor sit amet, ut labore'\r\n            },\r\n            {\r\n                title: 'Meeting',\r\n                start: TODAY + 'T14:30:00',\r\n                className: \"fc-event-warning\",\r\n                description: 'Lorem ipsum conse ctetur adipi scing'\r\n            },\r\n            {\r\n                title: 'Happy Hour',\r\n                start: TODAY + 'T17:30:00',\r\n                className: \"fc-event-info\",\r\n                description: 'Lorem ipsum dolor sit amet, conse ctetur'\r\n            },\r\n            {\r\n                title: 'Dinner',\r\n                start: TOMORROW + 'T05:00:00',\r\n                className: \"fc-event-solid-danger fc-event-light\",\r\n                description: 'Lorem ipsum dolor sit ctetur adipi scing'\r\n            },\r\n            {\r\n                title: 'Birthday Party',\r\n                start: TOMORROW + 'T07:00:00',\r\n                className: \"fc-event-primary\",\r\n                description: 'Lorem ipsum dolor sit amet, scing'\r\n            },\r\n            {\r\n                title: 'Click for Google',\r\n                url: 'http://google.com/',\r\n                start: YM + '-28',\r\n                className: \"fc-event-solid-info fc-event-light\",\r\n                description: 'Lorem ipsum dolor sit amet, labore'\r\n            }\r\n        ];\r\n\r\n        // Initialize the external events -- for more info please visit the official site: https://fullcalendar.io/demos\r\n        var calendar = new FullCalendar.Calendar(calendarEl, {\r\n            timeZone: initialTimeZone,\r\n            headerToolbar: {\r\n                left: 'prev,next today',\r\n                center: 'title',\r\n                right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'\r\n            },\r\n            initialDate: TODAY,\r\n            navLinks: true, // can click day/week names to navigate views\r\n            editable: true,\r\n            selectable: true,\r\n            dayMaxEvents: true, // allow \"more\" link when too many events\r\n\r\n            eventTimeFormat: { hour: 'numeric', minute: '2-digit', timeZoneName: 'short' },\r\n            events: eventsArray,\r\n        });\r\n\r\n        calendar.render();\r\n\r\n        // when the timezone selector changes, dynamically change the calendar option -- more info on Select2 on Change event: https://select2.org/programmatic-control/events\r\n        $(timeZoneSelectorEl).on('change', function () {\r\n            calendar.setOption('timeZone', 'UTC');\r\n\r\n            // Remove all events\r\n            const removeEvents = calendar.getEvents();\r\n            removeEvents.forEach(event => {\r\n                event.remove();\r\n            });\r\n\r\n            // Add events with new timezone offset\r\n            const newEvents = eventsArray;\r\n            newEvents.forEach(event => {\r\n                var start;\r\n                var end;\r\n\r\n                if(this.value < 0){\r\n                    start = moment(event.start).subtract(this.value.replace(/\\D/g,''), 'seconds').format(getFormat(event.start));\r\n                    end = event.end ? moment(event.end).subtract(this.value.replace(/\\D/g,''), 'seconds').format(getFormat(event.end)) : start;\r\n                } else {\r\n                    start = moment(event.start).add(this.value, 'seconds').format(getFormat(event.start));\r\n                    end = event.end ? moment(event.end).add(this.value, 'seconds').format(getFormat(event.end)) : start;\r\n                }               \r\n\r\n                calendar.addEvent({\r\n                    title: event.title,\r\n                    start: start,\r\n                    end: end\r\n                });\r\n            });\r\n\r\n            calendar.render();\r\n        });\r\n\r\n        // Dynamic date format generator\r\n        const getFormat = (d) => {\r\n            if(d.includes('T')){\r\n                return 'YYYY-MM-DDTHH:mm:ss';\r\n            } else {\r\n                return 'YYYY-MM-DD';\r\n            }\r\n        }\r\n    }\r\n\r\n    return {\r\n        // Public Functions\r\n        init: function () {\r\n            exampleTimezone();\r\n        }\r\n    };\r\n}();\r\n\r\n// On document ready\r\nKTUtil.onDOMContentLoaded(function () {\r\n    KTGeneralFullCalendarTimezoneDemos.init();\r\n});\r\n"],"sourceRoot":""}