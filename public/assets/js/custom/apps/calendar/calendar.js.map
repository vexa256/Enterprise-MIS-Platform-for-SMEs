{"version":3,"sources":["webpack://metronic/../demo5/src/js/custom/apps/calendar/calendar.js"],"names":["KTAppCalendar","calendar","popover","eventName","eventDescription","eventLocation","startDatepicker","startFlatpickr","endDatepicker","endFlatpickr","startTimepicker","startTimeFlatpickr","endTimepicker","endTimeFlatpickr","modal","modalTitle","form","validator","addButton","submitButton","cancelButton","closeButton","viewEventName","viewAllDay","viewEventDescription","viewEventLocation","viewStartDate","viewEndDate","viewModal","viewEditButton","viewDeleteButton","data","id","startDate","endDate","allDay","popoverState","initPopovers","element","hidePopovers","moment","format","options","container","trigger","boundary","placement","dismiss","html","title","content","KTApp","initBootstrapPopover","show","handleViewButton","dispose","handleNewEvent","innerText","datepickerWrappers","querySelectorAll","allDayToggle","querySelector","addEventListener","e","target","checked","forEach","dw","classList","add","setDate","remove","populateForm","FormValidation","formValidation","fields","validators","notEmpty","message","plugins","Trigger","bootstrap","Bootstrap5","rowSelector","eleInvalidClass","eleValidClass","preventDefault","validate","then","status","console","log","setAttribute","disabled","setTimeout","removeAttribute","Swal","fire","text","icon","buttonsStyling","confirmButtonText","customClass","confirmButton","result","isConfirmed","hide","allDayEvent","selectedDates","length","startDateTime","endDateTime","addEvent","uid","value","description","location","start","end","render","reset","handleViewEvent","eventNameMod","startDateMod","endDateMod","handleEditButton","getEventById","handleEditEvent","document","formatArgs","res","startStr","endStr","Date","now","toString","Math","floor","random","init","getElementById","Modal","viewElement","calendarEl","todayDate","YM","YESTERDAY","TODAY","TOMORROW","startOf","clone","subtract","FullCalendar","Calendar","headerToolbar","left","center","right","initialDate","navLinks","selectable","selectMirror","select","arg","eventClick","event","extendedProps","eventMouseEnter","el","editable","dayMaxEvents","events","className","flatpickr","enableTime","dateFormat","noCalendar","showCancelButton","cancelButtonText","KTUtil","onDOMContentLoaded"],"mappings":"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","file":"js/custom/apps/calendar/calendar.js","sourcesContent":["\"use strict\";\r\n\r\n// Class definition\r\nvar KTAppCalendar = function () {\r\n    // Shared variables\r\n    // Calendar variables\r\n    var calendar;\r\n    var data = {\r\n        id: '',\r\n        eventName: '',\r\n        eventDescription: '',\r\n        eventLocation: '',\r\n        startDate: '',\r\n        endDate: '',\r\n        allDay: false\r\n    };\r\n    var popover;\r\n    var popoverState = false;\r\n\r\n    // Add event variables\r\n    var eventName;\r\n    var eventDescription;\r\n    var eventLocation;\r\n    var startDatepicker;\r\n    var startFlatpickr;\r\n    var endDatepicker;\r\n    var endFlatpickr;\r\n    var startTimepicker;\r\n    var startTimeFlatpickr;\r\n    var endTimepicker\r\n    var endTimeFlatpickr;\r\n    var modal;\r\n    var modalTitle;\r\n    var form;\r\n    var validator;\r\n    var addButton;\r\n    var submitButton;\r\n    var cancelButton;\r\n    var closeButton;\r\n\r\n    // View event variables\r\n    var viewEventName;\r\n    var viewAllDay;\r\n    var viewEventDescription;\r\n    var viewEventLocation;\r\n    var viewStartDate;\r\n    var viewEndDate;\r\n    var viewModal;\r\n    var viewEditButton;\r\n    var viewDeleteButton;\r\n\r\n\r\n    // Private functions\r\n    var initCalendarApp = function () {\r\n        // Define variables\r\n        var calendarEl = document.getElementById('kt_calendar_app');\r\n        var todayDate = moment().startOf('day');\r\n        var YM = todayDate.format('YYYY-MM');\r\n        var YESTERDAY = todayDate.clone().subtract(1, 'day').format('YYYY-MM-DD');\r\n        var TODAY = todayDate.format('YYYY-MM-DD');\r\n        var TOMORROW = todayDate.clone().add(1, 'day').format('YYYY-MM-DD');\r\n\r\n        // Init calendar --- more info: https://fullcalendar.io/docs/initialize-globals\r\n        calendar = new FullCalendar.Calendar(calendarEl, {\r\n            headerToolbar: {\r\n                left: 'prev,next today',\r\n                center: 'title',\r\n                right: 'dayGridMonth,timeGridWeek,timeGridDay'\r\n            },\r\n            initialDate: TODAY,\r\n            navLinks: true, // can click day/week names to navigate views\r\n            selectable: true,\r\n            selectMirror: true,\r\n\r\n            // Select dates action --- more info: https://fullcalendar.io/docs/select-callback\r\n            select: function (arg) {\r\n                hidePopovers();\r\n                formatArgs(arg);\r\n                handleNewEvent();\r\n            },\r\n\r\n            // Click event --- more info: https://fullcalendar.io/docs/eventClick\r\n            eventClick: function (arg) {\r\n                hidePopovers();\r\n\r\n                formatArgs({\r\n                    id: arg.event.id,\r\n                    title: arg.event.title,\r\n                    description: arg.event.extendedProps.description,\r\n                    location: arg.event.extendedProps.location,\r\n                    startStr: arg.event.startStr,\r\n                    endStr: arg.event.endStr,\r\n                    allDay: arg.event.allDay\r\n                });\r\n                handleViewEvent();\r\n            },\r\n\r\n            // MouseEnter event --- more info: https://fullcalendar.io/docs/eventMouseEnter\r\n            eventMouseEnter: function (arg) {\r\n                formatArgs({\r\n                    id: arg.event.id,\r\n                    title: arg.event.title,\r\n                    description: arg.event.extendedProps.description,\r\n                    location: arg.event.extendedProps.location,\r\n                    startStr: arg.event.startStr,\r\n                    endStr: arg.event.endStr,\r\n                    allDay: arg.event.allDay\r\n                });\r\n\r\n                // Show popover preview\r\n                initPopovers(arg.el);\r\n            },\r\n\r\n            editable: true,\r\n            dayMaxEvents: true, // allow \"more\" link when too many events\r\n            events: [\r\n                {\r\n                    id: uid(),\r\n                    title: 'All Day Event',\r\n                    start: YM + '-01',\r\n                    end: YM + '-02',\r\n                    description: 'Toto lorem ipsum dolor sit incid idunt ut',\r\n                    className: \"fc-event-danger fc-event-solid-warning\",\r\n                    location: 'Federation Square'\r\n                },\r\n                {\r\n                    id: uid(),\r\n                    title: 'Reporting',\r\n                    start: YM + '-14T13:30:00',\r\n                    description: 'Lorem ipsum dolor incid idunt ut labore',\r\n                    end: YM + '-14T14:30:00',\r\n                    className: \"fc-event-success\",\r\n                    location: 'Meeting Room 7.03'\r\n                },\r\n                {\r\n                    id: uid(),\r\n                    title: 'Company Trip',\r\n                    start: YM + '-02',\r\n                    description: 'Lorem ipsum dolor sit tempor incid',\r\n                    end: YM + '-03',\r\n                    className: \"fc-event-primary\",\r\n                    location: 'Seoul, Korea'\r\n\r\n                },\r\n                {\r\n                    id: uid(),\r\n                    title: 'ICT Expo 2021 - Product Release',\r\n                    start: YM + '-03',\r\n                    description: 'Lorem ipsum dolor sit tempor inci',\r\n                    end: YM + '-05',\r\n                    className: \"fc-event-light fc-event-solid-primary\",\r\n                    location: 'Melbourne Exhibition Hall'\r\n                },\r\n                {\r\n                    id: uid(),\r\n                    title: 'Dinner',\r\n                    start: YM + '-12',\r\n                    description: 'Lorem ipsum dolor sit amet, conse ctetur',\r\n                    end: YM + '-13',\r\n                    location: 'Squire\\'s Loft'\r\n                },\r\n                {\r\n                    id: uid(),\r\n                    title: 'Repeating Event',\r\n                    start: YM + '-09T16:00:00',\r\n                    end: YM + '-09T17:00:00',\r\n                    description: 'Lorem ipsum dolor sit ncididunt ut labore',\r\n                    className: \"fc-event-danger\",\r\n                    location: 'General Area'\r\n                },\r\n                {\r\n                    id: uid(),\r\n                    title: 'Repeating Event',\r\n                    description: 'Lorem ipsum dolor sit amet, labore',\r\n                    start: YM + '-16T16:00:00',\r\n                    end: YM + '-16T17:00:00',\r\n                    location: 'General Area'\r\n                },\r\n                {\r\n                    id: uid(),\r\n                    title: 'Conference',\r\n                    start: YESTERDAY,\r\n                    end: TOMORROW,\r\n                    description: 'Lorem ipsum dolor eius mod tempor labore',\r\n                    className: \"fc-event-primary\",\r\n                    location: 'Conference Hall A'\r\n                },\r\n                {\r\n                    id: uid(),\r\n                    title: 'Meeting',\r\n                    start: TODAY + 'T10:30:00',\r\n                    end: TODAY + 'T12:30:00',\r\n                    description: 'Lorem ipsum dolor eiu idunt ut labore',\r\n                    location: 'Meeting Room 11.06'\r\n                },\r\n                {\r\n                    id: uid(),\r\n                    title: 'Lunch',\r\n                    start: TODAY + 'T12:00:00',\r\n                    end: TODAY + 'T14:00:00',\r\n                    className: \"fc-event-info\",\r\n                    description: 'Lorem ipsum dolor sit amet, ut labore',\r\n                    location: 'Cafeteria'\r\n                },\r\n                {\r\n                    id: uid(),\r\n                    title: 'Meeting',\r\n                    start: TODAY + 'T14:30:00',\r\n                    end: TODAY + 'T15:30:00',\r\n                    className: \"fc-event-warning\",\r\n                    description: 'Lorem ipsum conse ctetur adipi scing',\r\n                    location: 'Meeting Room 11.10'\r\n                },\r\n                {\r\n                    id: uid(),\r\n                    title: 'Happy Hour',\r\n                    start: TODAY + 'T17:30:00',\r\n                    end: TODAY + 'T21:30:00',\r\n                    className: \"fc-event-info\",\r\n                    description: 'Lorem ipsum dolor sit amet, conse ctetur',\r\n                    location: 'The English Pub'\r\n                },\r\n                {\r\n                    id: uid(),\r\n                    title: 'Dinner',\r\n                    start: TOMORROW + 'T18:00:00',\r\n                    end: TOMORROW + 'T21:00:00',\r\n                    className: \"fc-event-solid-danger fc-event-light\",\r\n                    description: 'Lorem ipsum dolor sit ctetur adipi scing',\r\n                    location: 'New York Steakhouse'\r\n                },\r\n                {\r\n                    id: uid(),\r\n                    title: 'Birthday Party',\r\n                    start: TOMORROW + 'T12:00:00',\r\n                    end: TOMORROW + 'T14:00:00',\r\n                    className: \"fc-event-primary\",\r\n                    description: 'Lorem ipsum dolor sit amet, scing',\r\n                    location: 'The English Pub'\r\n                },\r\n                {\r\n                    id: uid(),\r\n                    title: 'Site visit',\r\n                    start: YM + '-28',\r\n                    end: YM + '-29',\r\n                    className: \"fc-event-solid-info fc-event-light\",\r\n                    description: 'Lorem ipsum dolor sit amet, labore',\r\n                    location: '271, Spring Street'\r\n                }\r\n            ]\r\n        });\r\n\r\n        calendar.render();\r\n    }\r\n\r\n    // Initialize popovers --- more info: https://getbootstrap.com/docs/4.0/components/popovers/\r\n    const initPopovers = (element) => {\r\n        hidePopovers();\r\n        \r\n        // Generate popover content\r\n        const startDate = data.allDay ? moment(data.startDate).format('Do MMM, YYYY') : moment(data.startDate).format('Do MMM, YYYY - h:mm a');\r\n        const endDate = data.allDay ? moment(data.endDate).format('Do MMM, YYYY') : moment(data.endDate).format('Do MMM, YYYY - h:mm a');\r\n        const popoverHtml = '<div class=\"fw-bolder mb-2\">' + data.eventName + '</div><div class=\"fs-7\"><span class=\"fw-bold\">Start:</span> ' + startDate + '</div><div class=\"fs-7 mb-4\"><span class=\"fw-bold\">End:</span> ' + endDate + '</div><div id=\"kt_calendar_event_view_button\" type=\"button\" class=\"btn btn-sm btn-light-primary\">View More</div>';\r\n\r\n        // Popover options\r\n        var options = {\r\n            container: 'body',\r\n            trigger: 'manual',\r\n            boundary: 'window',\r\n            placement: 'auto',\r\n            dismiss: true,\r\n            html: true,\r\n            title: 'Event Summary',\r\n            content: popoverHtml,\r\n        }\r\n\r\n        // Initialize popover\r\n        popover = KTApp.initBootstrapPopover(element, options);\r\n\r\n        // Show popover\r\n        popover.show();\r\n\r\n        // Update popover state\r\n        popoverState = true;\r\n\r\n        // Open view event modal\r\n        handleViewButton();\r\n    }\r\n\r\n    // Hide active popovers\r\n    const hidePopovers = () => {\r\n        if (popoverState) {\r\n            popover.dispose();\r\n            popoverState = false;\r\n        }\r\n    }\r\n\r\n    // Initialize datepickers --- more info: https://flatpickr.js.org/\r\n    const initDatepickers = () => {\r\n        startFlatpickr = flatpickr(startDatepicker, {\r\n            enableTime: false,\r\n            dateFormat: \"Y-m-d\",\r\n        });\r\n\r\n        endFlatpickr = flatpickr(endDatepicker, {\r\n            enableTime: false,\r\n            dateFormat: \"Y-m-d\",\r\n        });\r\n\r\n        startTimeFlatpickr = flatpickr(startTimepicker, {\r\n            enableTime: true,\r\n            noCalendar: true,\r\n            dateFormat: \"H:i\",\r\n        });\r\n\r\n        endTimeFlatpickr = flatpickr(endTimepicker, {\r\n            enableTime: true,\r\n            noCalendar: true,\r\n            dateFormat: \"H:i\",\r\n        });\r\n    }\r\n\r\n    // Handle add button\r\n    const handleAddButton = () => {\r\n        addButton.addEventListener('click', e => {\r\n            // Reset form data\r\n            data = {\r\n                id: '',\r\n                eventName: '',\r\n                eventDescription: '',\r\n                startDate: '',\r\n                endDate: '',\r\n                allDay: false\r\n            };\r\n            handleNewEvent();\r\n        });\r\n    }\r\n\r\n    // Handle add new event\r\n    const handleNewEvent = () => {\r\n        // Update modal title\r\n        modalTitle.innerText = \"Add a New Event\";\r\n\r\n        modal.show();\r\n\r\n        // Select datepicker wrapper elements\r\n        const datepickerWrappers = form.querySelectorAll('[data-kt-calendar=\"datepicker\"]');\r\n\r\n        // Handle all day toggle\r\n        const allDayToggle = form.querySelector('#kt_calendar_datepicker_allday');\r\n        allDayToggle.addEventListener('click', e => {\r\n            if (e.target.checked) {\r\n                datepickerWrappers.forEach(dw => {\r\n                    dw.classList.add('d-none');\r\n                });\r\n            } else {\r\n                endFlatpickr.setDate(data.startDate, true, 'Y-m-d');\r\n                datepickerWrappers.forEach(dw => {\r\n                    dw.classList.remove('d-none');\r\n                });\r\n            }\r\n        });\r\n\r\n        populateForm(data);\r\n\r\n        // Init form validation rules. For more info check the FormValidation plugin's official documentation:https://formvalidation.io/\r\n        validator = FormValidation.formValidation(\r\n            form,\r\n            {\r\n                fields: {\r\n                    'calendar_event_name': {\r\n                        validators: {\r\n                            notEmpty: {\r\n                                message: 'Event name is required'\r\n                            }\r\n                        }\r\n                    },\r\n                    'calendar_event_start_date': {\r\n                        validators: {\r\n                            notEmpty: {\r\n                                message: 'Start date is required'\r\n                            }\r\n                        }\r\n                    },\r\n                    'calendar_event_end_date': {\r\n                        validators: {\r\n                            notEmpty: {\r\n                                message: 'End date is required'\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n\r\n                plugins: {\r\n                    trigger: new FormValidation.plugins.Trigger(),\r\n                    bootstrap: new FormValidation.plugins.Bootstrap5({\r\n                        rowSelector: '.fv-row',\r\n                        eleInvalidClass: '',\r\n                        eleValidClass: ''\r\n                    })\r\n                }\r\n            }\r\n        );\r\n\r\n        // Handle submit form\r\n        submitButton.addEventListener('click', function (e) {\r\n            // Prevent default button action\r\n            e.preventDefault();\r\n\r\n            // Validate form before submit\r\n            if (validator) {\r\n                validator.validate().then(function (status) {\r\n                    console.log('validated!');\r\n\r\n                    if (status == 'Valid') {\r\n                        // Show loading indication\r\n                        submitButton.setAttribute('data-kt-indicator', 'on');\r\n\r\n                        // Disable submit button whilst loading\r\n                        submitButton.disabled = true;\r\n\r\n                        // Simulate form submission\r\n                        setTimeout(function () {\r\n                            // Simulate form submission\r\n                            submitButton.removeAttribute('data-kt-indicator');\r\n\r\n                            // Show popup confirmation \r\n                            Swal.fire({\r\n                                text: \"New event added to calendar!\",\r\n                                icon: \"success\",\r\n                                buttonsStyling: false,\r\n                                confirmButtonText: \"Ok, got it!\",\r\n                                customClass: {\r\n                                    confirmButton: \"btn btn-primary\"\r\n                                }\r\n                            }).then(function (result) {\r\n                                if (result.isConfirmed) {\r\n                                    modal.hide();\r\n\r\n                                    // Enable submit button after loading\r\n                                    submitButton.disabled = false;\r\n\r\n                                    // Detect if is all day event\r\n                                    let allDayEvent = false;\r\n                                    if (allDayToggle.checked) { allDayEvent = true; }\r\n                                    if (startTimeFlatpickr.selectedDates.length === 0) { allDayEvent = true; }\r\n\r\n                                    // Merge date & time\r\n                                    var startDateTime = moment(startFlatpickr.selectedDates[0]).format();\r\n                                    var endDateTime = moment(endFlatpickr.selectedDates[endFlatpickr.selectedDates.length - 1]).format();\r\n                                    if (!allDayEvent) {\r\n                                        const startDate = moment(startFlatpickr.selectedDates[0]).format('YYYY-MM-DD');\r\n                                        const endDate = startDate;\r\n                                        const startTime = moment(startTimeFlatpickr.selectedDates[0]).format('HH:mm:ss');\r\n                                        const endTime = moment(endTimeFlatpickr.selectedDates[0]).format('HH:mm:ss');\r\n\r\n                                        startDateTime = startDate + 'T' + startTime;\r\n                                        endDateTime = endDate + 'T' + endTime;\r\n                                    }\r\n\r\n                                    // Add new event to calendar\r\n                                    calendar.addEvent({\r\n                                        id: uid(),\r\n                                        title: eventName.value,\r\n                                        description: eventDescription.value,\r\n                                        location: eventLocation.value,\r\n                                        start: startDateTime,\r\n                                        end: endDateTime,\r\n                                        allDay: allDayEvent\r\n                                    });\r\n                                    calendar.render();\r\n\r\n                                    // Reset form for demo purposes only\r\n                                    form.reset();\r\n                                }\r\n                            });\r\n\r\n                            //form.submit(); // Submit form\r\n                        }, 2000);\r\n                    } else {\r\n                        // Show popup warning \r\n                        Swal.fire({\r\n                            text: \"Sorry, looks like there are some errors detected, please try again.\",\r\n                            icon: \"error\",\r\n                            buttonsStyling: false,\r\n                            confirmButtonText: \"Ok, got it!\",\r\n                            customClass: {\r\n                                confirmButton: \"btn btn-primary\"\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    // Handle edit event\r\n    const handleEditEvent = () => {\r\n        // Update modal title\r\n        modalTitle.innerText = \"Edit an Event\";\r\n\r\n        modal.show();\r\n\r\n        // Select datepicker wrapper elements\r\n        const datepickerWrappers = form.querySelectorAll('[data-kt-calendar=\"datepicker\"]');\r\n\r\n        // Handle all day toggle\r\n        const allDayToggle = form.querySelector('#kt_calendar_datepicker_allday');\r\n        allDayToggle.addEventListener('click', e => {\r\n            if (e.target.checked) {\r\n                datepickerWrappers.forEach(dw => {\r\n                    dw.classList.add('d-none');\r\n                });\r\n            } else {\r\n                endFlatpickr.setDate(data.startDate, true, 'Y-m-d');\r\n                datepickerWrappers.forEach(dw => {\r\n                    dw.classList.remove('d-none');\r\n                });\r\n            }\r\n        });\r\n\r\n        populateForm(data);\r\n\r\n        // Init form validation rules. For more info check the FormValidation plugin's official documentation:https://formvalidation.io/\r\n        validator = FormValidation.formValidation(\r\n            form,\r\n            {\r\n                fields: {\r\n                    'calendar_event_name': {\r\n                        validators: {\r\n                            notEmpty: {\r\n                                message: 'Event name is required'\r\n                            }\r\n                        }\r\n                    },\r\n                    'calendar_event_start_date': {\r\n                        validators: {\r\n                            notEmpty: {\r\n                                message: 'Start date is required'\r\n                            }\r\n                        }\r\n                    },\r\n                    'calendar_event_end_date': {\r\n                        validators: {\r\n                            notEmpty: {\r\n                                message: 'End date is required'\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n\r\n                plugins: {\r\n                    trigger: new FormValidation.plugins.Trigger(),\r\n                    bootstrap: new FormValidation.plugins.Bootstrap5({\r\n                        rowSelector: '.fv-row',\r\n                        eleInvalidClass: '',\r\n                        eleValidClass: ''\r\n                    })\r\n                }\r\n            }\r\n        );\r\n\r\n        // Handle submit form\r\n        submitButton.addEventListener('click', function (e) {\r\n            // Prevent default button action\r\n            e.preventDefault();\r\n\r\n            // Validate form before submit\r\n            if (validator) {\r\n                validator.validate().then(function (status) {\r\n                    console.log('validated!');\r\n\r\n                    if (status == 'Valid') {\r\n                        // Show loading indication\r\n                        submitButton.setAttribute('data-kt-indicator', 'on');\r\n\r\n                        // Disable submit button whilst loading\r\n                        submitButton.disabled = true;\r\n\r\n                        // Simulate form submission\r\n                        setTimeout(function () {\r\n                            // Simulate form submission\r\n                            submitButton.removeAttribute('data-kt-indicator');\r\n\r\n                            // Show popup confirmation \r\n                            Swal.fire({\r\n                                text: \"New event added to calendar!\",\r\n                                icon: \"success\",\r\n                                buttonsStyling: false,\r\n                                confirmButtonText: \"Ok, got it!\",\r\n                                customClass: {\r\n                                    confirmButton: \"btn btn-primary\"\r\n                                }\r\n                            }).then(function (result) {\r\n                                if (result.isConfirmed) {\r\n                                    modal.hide();\r\n\r\n                                    // Enable submit button after loading\r\n                                    submitButton.disabled = false;\r\n\r\n                                    // Remove old event\r\n                                    calendar.getEventById(data.id).remove();\r\n\r\n                                    // Detect if is all day event\r\n                                    let allDayEvent = false;\r\n                                    if (allDayToggle.checked) { allDayEvent = true; }\r\n                                    if (startTimeFlatpickr.selectedDates.length === 0) { allDayEvent = true; }\r\n\r\n                                    // Merge date & time\r\n                                    var startDateTime = moment(startFlatpickr.selectedDates[0]).format();\r\n                                    var endDateTime = moment(endFlatpickr.selectedDates[endFlatpickr.selectedDates.length - 1]).format();\r\n                                    if (!allDayEvent) {\r\n                                        const startDate = moment(startFlatpickr.selectedDates[0]).format('YYYY-MM-DD');\r\n                                        const endDate = startDate;\r\n                                        const startTime = moment(startTimeFlatpickr.selectedDates[0]).format('HH:mm:ss');\r\n                                        const endTime = moment(endTimeFlatpickr.selectedDates[0]).format('HH:mm:ss');\r\n\r\n                                        startDateTime = startDate + 'T' + startTime;\r\n                                        endDateTime = endDate + 'T' + endTime;\r\n                                    }\r\n\r\n                                    // Add new event to calendar\r\n                                    calendar.addEvent({\r\n                                        id: uid(),\r\n                                        title: eventName.value,\r\n                                        description: eventDescription.value,\r\n                                        location: eventLocation.value,\r\n                                        start: startDateTime,\r\n                                        end: endDateTime,\r\n                                        allDay: allDayEvent\r\n                                    });\r\n                                    calendar.render();\r\n\r\n                                    // Reset form for demo purposes only\r\n                                    form.reset();\r\n                                }\r\n                            });\r\n\r\n                            //form.submit(); // Submit form\r\n                        }, 2000);\r\n                    } else {\r\n                        // Show popup warning \r\n                        Swal.fire({\r\n                            text: \"Sorry, looks like there are some errors detected, please try again.\",\r\n                            icon: \"error\",\r\n                            buttonsStyling: false,\r\n                            confirmButtonText: \"Ok, got it!\",\r\n                            customClass: {\r\n                                confirmButton: \"btn btn-primary\"\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    // Handle view event\r\n    const handleViewEvent = () => {\r\n        viewModal.show();\r\n\r\n        // Detect all day event\r\n        var eventNameMod;\r\n        var startDateMod;\r\n        var endDateMod;\r\n\r\n        // Generate labels\r\n        if (data.allDay) {\r\n            eventNameMod = 'All Day';\r\n            startDateMod = moment(data.startDate).format('Do MMM, YYYY');\r\n            endDateMod = moment(data.endDate).format('Do MMM, YYYY');\r\n        } else {\r\n            eventNameMod = '';\r\n            startDateMod = moment(data.startDate).format('Do MMM, YYYY - h:mm a');\r\n            endDateMod = moment(data.endDate).format('Do MMM, YYYY - h:mm a');\r\n        }\r\n\r\n        // Populate view data\r\n        viewEventName.innerText = data.eventName;\r\n        viewAllDay.innerText = eventNameMod;\r\n        viewEventDescription.innerText = data.eventDescription ? data.eventDescription : '--';\r\n        viewEventLocation.innerText = data.eventLocation ? data.eventLocation : '--';\r\n        viewStartDate.innerText = startDateMod;\r\n        viewEndDate.innerText = endDateMod;\r\n    }\r\n\r\n    // Handle delete event\r\n    const handleDeleteEvent = () => {\r\n        viewDeleteButton.addEventListener('click', e => {\r\n            e.preventDefault();\r\n\r\n            Swal.fire({\r\n                text: \"Are you sure you would like to delete this event?\",\r\n                icon: \"warning\",\r\n                showCancelButton: true,\r\n                buttonsStyling: false,\r\n                confirmButtonText: \"Yes, delete it!\",\r\n                cancelButtonText: \"No, return\",\r\n                customClass: {\r\n                    confirmButton: \"btn btn-primary\",\r\n                    cancelButton: \"btn btn-active-light\"\r\n                }\r\n            }).then(function (result) {\r\n                if (result.value) {\r\n                    calendar.getEventById(data.id).remove();\r\n\r\n                    viewModal.hide(); // Hide modal\t\t\t\t\r\n                } else if (result.dismiss === 'cancel') {\r\n                    Swal.fire({\r\n                        text: \"Your event was not deleted!.\",\r\n                        icon: \"error\",\r\n                        buttonsStyling: false,\r\n                        confirmButtonText: \"Ok, got it!\",\r\n                        customClass: {\r\n                            confirmButton: \"btn btn-primary\",\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n\r\n        });\r\n    }\r\n\r\n    // Handle edit button\r\n    const handleEditButton = () => {\r\n        viewEditButton.addEventListener('click', e => {\r\n            e.preventDefault();\r\n\r\n            viewModal.hide();\r\n            handleEditEvent();\r\n        });\r\n    }\r\n\r\n    // Handle cancel button\r\n    const handleCancelButton = () => {\r\n        // Edit event modal cancel button\r\n        cancelButton.addEventListener('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            Swal.fire({\r\n                text: \"Are you sure you would like to cancel?\",\r\n                icon: \"warning\",\r\n                showCancelButton: true,\r\n                buttonsStyling: false,\r\n                confirmButtonText: \"Yes, cancel it!\",\r\n                cancelButtonText: \"No, return\",\r\n                customClass: {\r\n                    confirmButton: \"btn btn-primary\",\r\n                    cancelButton: \"btn btn-active-light\"\r\n                }\r\n            }).then(function (result) {\r\n                if (result.value) {\r\n                    form.reset(); // Reset form\t\r\n                    modal.hide(); // Hide modal\t\t\t\t\r\n                } else if (result.dismiss === 'cancel') {\r\n                    Swal.fire({\r\n                        text: \"Your form has not been cancelled!.\",\r\n                        icon: \"error\",\r\n                        buttonsStyling: false,\r\n                        confirmButtonText: \"Ok, got it!\",\r\n                        customClass: {\r\n                            confirmButton: \"btn btn-primary\",\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    // Handle close button\r\n    const handleCloseButton = () => {\r\n        // Edit event modal close button\r\n        closeButton.addEventListener('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            Swal.fire({\r\n                text: \"Are you sure you would like to cancel?\",\r\n                icon: \"warning\",\r\n                showCancelButton: true,\r\n                buttonsStyling: false,\r\n                confirmButtonText: \"Yes, cancel it!\",\r\n                cancelButtonText: \"No, return\",\r\n                customClass: {\r\n                    confirmButton: \"btn btn-primary\",\r\n                    cancelButton: \"btn btn-active-light\"\r\n                }\r\n            }).then(function (result) {\r\n                if (result.value) {\r\n                    form.reset(); // Reset form\t\r\n                    modal.hide(); // Hide modal\t\t\t\t\r\n                } else if (result.dismiss === 'cancel') {\r\n                    Swal.fire({\r\n                        text: \"Your form has not been cancelled!.\",\r\n                        icon: \"error\",\r\n                        buttonsStyling: false,\r\n                        confirmButtonText: \"Ok, got it!\",\r\n                        customClass: {\r\n                            confirmButton: \"btn btn-primary\",\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    // Handle view button\r\n    const handleViewButton = () => {\r\n        const viewButton = document.querySelector('#kt_calendar_event_view_button');\r\n        viewButton.addEventListener('click', e => {\r\n            e.preventDefault();\r\n\r\n            hidePopovers();\r\n            handleViewEvent();\r\n        });\r\n    }\r\n\r\n    // Helper functions\r\n\r\n    // Populate form \r\n    const populateForm = () => {\r\n        eventName.value = data.eventName ? data.eventName : '';\r\n        eventDescription.value = data.eventDescription ? data.eventDescription : '';\r\n        eventLocation.value = data.eventLocation ? data.eventLocation : '';\r\n        startFlatpickr.setDate(data.startDate, true, 'Y-m-d');\r\n\r\n        // Handle null end dates\r\n        const endDate = data.endDate ? data.endDate : moment(data.startDate).format();\r\n        endFlatpickr.setDate(endDate, true, 'Y-m-d');\r\n\r\n        const allDayToggle = form.querySelector('#kt_calendar_datepicker_allday');\r\n        const datepickerWrappers = form.querySelectorAll('[data-kt-calendar=\"datepicker\"]');\r\n        if (data.allDay) {\r\n            allDayToggle.checked = true;\r\n            datepickerWrappers.forEach(dw => {\r\n                dw.classList.add('d-none');\r\n            });\r\n        } else {\r\n            startTimeFlatpickr.setDate(data.startDate, true, 'Y-m-d H:i');\r\n            endTimeFlatpickr.setDate(data.endDate, true, 'Y-m-d H:i');\r\n            endFlatpickr.setDate(data.startDate, true, 'Y-m-d');\r\n            allDayToggle.checked = false;\r\n            datepickerWrappers.forEach(dw => {\r\n                dw.classList.remove('d-none');\r\n            });\r\n        }\r\n    }\r\n\r\n    // Format FullCalendar reponses\r\n    const formatArgs = (res) => {\r\n        data.id = res.id;\r\n        data.eventName = res.title;\r\n        data.eventDescription = res.description;\r\n        data.eventLocation = res.location;\r\n        data.startDate = res.startStr;\r\n        data.endDate = res.endStr;\r\n        data.allDay = res.allDay;\r\n    }\r\n\r\n    // Generate unique IDs for events\r\n    const uid = () => {\r\n        return Date.now().toString() + Math.floor(Math.random() * 1000).toString();\r\n    }\r\n\r\n    return {\r\n        // Public Functions\r\n        init: function () {\r\n            // Define variables\r\n            // Add event modal\r\n            const element = document.getElementById('kt_modal_add_event');\r\n            form = element.querySelector('#kt_modal_add_event_form');\r\n            eventName = form.querySelector('[name=\"calendar_event_name\"]');\r\n            eventDescription = form.querySelector('[name=\"calendar_event_description\"]');\r\n            eventLocation = form.querySelector('[name=\"calendar_event_location\"]');\r\n            startDatepicker = form.querySelector('#kt_calendar_datepicker_start_date');\r\n            endDatepicker = form.querySelector('#kt_calendar_datepicker_end_date');\r\n            startTimepicker = form.querySelector('#kt_calendar_datepicker_start_time');\r\n            endTimepicker = form.querySelector('#kt_calendar_datepicker_end_time');\r\n            addButton = document.querySelector('[data-kt-calendar=\"add\"]');\r\n            submitButton = form.querySelector('#kt_modal_add_event_submit');\r\n            cancelButton = form.querySelector('#kt_modal_add_event_cancel');\r\n            closeButton = element.querySelector('#kt_modal_add_event_close');\r\n            modalTitle = form.querySelector('[data-kt-calendar=\"title\"]');\r\n            modal = new bootstrap.Modal(element);\r\n\r\n            // View event modal\r\n            const viewElement = document.getElementById('kt_modal_view_event');\r\n            viewModal = new bootstrap.Modal(viewElement);\r\n            viewEventName = viewElement.querySelector('[data-kt-calendar=\"event_name\"]');\r\n            viewAllDay = viewElement.querySelector('[data-kt-calendar=\"all_day\"]');\r\n            viewEventDescription = viewElement.querySelector('[data-kt-calendar=\"event_description\"]');\r\n            viewEventLocation = viewElement.querySelector('[data-kt-calendar=\"event_location\"]');\r\n            viewStartDate = viewElement.querySelector('[data-kt-calendar=\"event_start_date\"]');\r\n            viewEndDate = viewElement.querySelector('[data-kt-calendar=\"event_end_date\"]');\r\n            viewEditButton = viewElement.querySelector('#kt_modal_view_event_edit');\r\n            viewDeleteButton = viewElement.querySelector('#kt_modal_view_event_delete');\r\n\r\n            initCalendarApp();\r\n            initDatepickers();\r\n            handleEditButton();\r\n            handleAddButton();\r\n            handleDeleteEvent();\r\n            handleCancelButton();\r\n            handleCloseButton();\r\n        }\r\n    };\r\n}();\r\n\r\n// On document ready\r\nKTUtil.onDOMContentLoaded(function () {\r\n    KTAppCalendar.init();\r\n});\r\n"],"sourceRoot":""}