(()=>{"use strict";var e,t,a,l=(t=function(){var t=[].slice.call(e.querySelectorAll('[data-kt-element="items"] [data-kt-element="item"]')),a=0,l=wNumb({decimals:2,thousand:","});t.map((function(e){var t=e.querySelector('[data-kt-element="quantity"]'),n=e.querySelector('[data-kt-element="price"]'),r=l.from(n.value);r=!r||r<0?0:r;var i=parseInt(t.value);i=!i||i<0?1:i,n.value=l.to(r),t.value=i,e.querySelector('[data-kt-element="total"]').innerText=l.to(r*i),a+=r*i})),e.querySelector('[data-kt-element="sub-total"]').innerText=l.to(a),e.querySelector('[data-kt-element="grand-total"]').innerText=l.to(a)},a=function(){if(0===e.querySelectorAll('[data-kt-element="items"] [data-kt-element="item"]').length){var t=e.querySelector('[data-kt-element="empty-template"] tr').cloneNode(!0);e.querySelector('[data-kt-element="items"] tbody').appendChild(t)}else KTUtil.remove(e.querySelector('[data-kt-element="items"] [data-kt-element="empty"]'))},{init:function(l){(e=document.querySelector("#kt_invoice_form")).querySelector('[data-kt-element="items"] [data-kt-element="add-item"]').addEventListener("click",(function(l){l.preventDefault();var n=e.querySelector('[data-kt-element="item-template"] tr').cloneNode(!0);e.querySelector('[data-kt-element="items"] tbody').appendChild(n),a(),t()})),KTUtil.on(e,'[data-kt-element="items"] [data-kt-element="remove-item"]',"click",(function(e){e.preventDefault(),KTUtil.remove(this.closest('[data-kt-element="item"]')),a(),t()})),KTUtil.on(e,'[data-kt-element="items"] [data-kt-element="quantity"], [data-kt-element="items"] [data-kt-element="price"]',"change",(function(e){e.preventDefault(),t()})),$(e.querySelector('[name="invoice_date"]')).flatpickr({enableTime:!1,dateFormat:"d, M Y"}),$(e.querySelector('[name="invoice_due_date"]')).flatpickr({enableTime:!1,dateFormat:"d, M Y"}),t()}});KTUtil.onDOMContentLoaded((function(){l.init()}))})();
//# sourceMappingURL=create.js.map